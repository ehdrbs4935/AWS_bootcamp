# 모듈 9: 클라우드 아키텍처

## 개요

### 주제
* AWS Well-Architected 프레임워크
* 안정성 및 고가용성
* AWS Trusted Advisor

### 목표
* 5가지 원칙을 포함한 AWS Well-Architected 프레임워크 설명
* AWS Well-Architected 프레임워크의 설계 원칙 확인
* 안정성 및 고가용성의 중요성 설명
* AWS Trusted Advisor의 이점 확인
* AWS Trusted Advisor 권장 사항 해석

## 섹션 1: AWS Well-Architected 프레임워크

### 1. 아키텍처: 설계 및 구축
* 아키텍처는 큰 구조물을 설계하고 구축하는 예술이자 과학임. 대규모 시스템의 아키텍트는 **시스템의 규모와 복잡성을 관리**해야 함.  

* 클라우드 아키텍트는 다음과 같은 일을 함.  
> * 의사 결정권자와 협력하여 **비즈니스 목표와 개선이 필요한 기능을 식별**함.  
> * 솔루션의 **기술 결과물이 비즈니스 목표와 일치하는지 확인**함.  
> * 솔루션을 구현하는 제공 팀과 협력하여 **기술의 기능이 적절한지 확인**함.  

* Well-Architected 시스템을 갖추면 비즈니스 성공의 가능성이 크게 높아짐.  
---
### 2. AWS Well-Architected 프레임워크란?
* AWS Well-Architected 프레임워크는 클라우드 애플리케이션 및 워크로드를 위한 최고 수준의 보안, 고성능, 복원력 및 효율성을 갖춘 **인프라를 구축하는 데 도움이 되는 안내서**임.  
* 이 프레임워크는 클라우드 아키텍처를 평가하고 구현하는 데 도움이 될 수 있는 기본적인 질문과 모범 사례 세트를 제공함.  
* AWS는 수많은 고객의 AWS 기반 아키텍처를 검토한 끝에 Well-Architected 프레임워크를 개발하였음.  
---
### 3. AWS Well-Architected 프레임워크의 원칙

<img src="https://velog.velcdn.com/images/chan9708/post/cf0b7c6c-ef35-4b88-a22e-85435e73f664/image.png" width="700">

* AWS Well-Architected 프레임워크는 **운영 우수성, 보안성, 안정성, 성능 효율성, 비용 최적화 등** 5가지 원칙으로 구성됨.  
* **원칙 구성**  
> * 각 원칙에는 설계 원칙과 모범 사례 영역이 포함되어 있음.  
> * 기본 질문 세트는 각 모범 사례 영역에 있음.  
> * 각 질문에는 약간의 컨텍스트와 모범 사례 목록이 제공됨.  
---
### 4. AWS Well-Architected 프레임워크 설계 원칙 활동 소개
* 각 원칙에 대한 AWS Well-Architected 프레임워크 설계 원칙을 기준으로 **가상 회사의 아키텍처를 검토함**.  

**1) AnyCompany 배경 정보**  
> * 2008년에 John Doe가 설립.  
> * 주변의 개별 건물과 나무를 보여주는 고급 3D 프린팅 도시 경관 모델을 판매함. (도시 경관은 컬러로 인쇄되며, 모든 물체가 정확한 색으로 인쇄됨.)  

> * IPO(기업 공개) 전까지 민간 투자를 신청하려고 함.  
> * John Doe와 이사회의 요청에 따라 기술 플랫폼을 독립적으로 검토하여 실사를 통과할 수 있는지 확인해야 함.  
  
> * John Doe는 클라우드 컴퓨팅을 사용하는 데 관심이 있음. 2008년에 AWS 계정을 만들고, Amazon EC2 인스턴스를 처음으로 가동했음.  
> * AnyCompany 플랫폼 아키텍처는 수년에 걸쳐 점진적으로 발전하였음. 현재 회사에서는 기술자 5명으로 구성된 팀이 모든 기술을 작성하고 운영함.  
> * 핵심 코드는 John Doe가 작성하지만, 나머지 팀원에게 AWS 계정 루트 사용자 자격 증명을 주고 관리를 맡겼음.  


> * AnyCompany Corporation에는 3개의 주요 부서가 있음.  
> > * **Fly and Snap**: 이미지 획득, 사전 처리 및 저장  
> > * **Show and Sell**: 홍보, 판매 및 고객 지원  
> > * **Make and Ship**: 제품 제조 및 배송  

> **AnyCompany 플랫폼의 설계를 개괄적으로 보면 회사의 조직 구조와 비슷함.**  

**2) AnyCompany 아키텍처: Fly and Snap  

> * 경비행기에 탑재된 여러 디바이스가 지역의 명소를 비롯한 주요 도시의 이미지를 일정에 따라 캡처함.  
> * 각 디바이스에서는 경비행기의 시계와 동기화된 시계로 타임스탬프가 기록된 **이미지 자산**이 생성됨.  
> * 각 디바이스에서 생성된 이미지 자산은 외부 **스토리지 어레이**가 있는 온보드 **캡처 머신**으로 스트리밍됨.  
> * 캡처 머신은 경비행기의 비행 시스템에 연결되며 GPS, 나침반, 고도 같은 네비게이션 데이터를 지속적으로 캡처함.  

> * 기지로 돌아온 후에는 스토리지 어레이가 분리되고 수집 베이로 들어감. 여기서 스토리지 어레이는 수집 머신에 연결됨.  
> * 수집 머신은 스토리지 어레이의 압축 아카이브를 생성하고 FTP를 사용하여 EC2 인스턴스의 **사전 처리 머신**으로 아카이브를 전송함.  
> * 스토리지 어레이가 처리된 후, 아카이브는 테이프에 백업용으로 기록됨. 이후 스토리지 어레이가 지워지고 다음 비행을 위해 준비됨.  
> * 테이프는 타사 백업 공급자가 오프사이트에 보관함.  

> * 사전 처리 머신은 머신에 업로드된 새 데이터 세트를 주기적으로 처리함.  
> * 모든 이미지 자산을 추출하여 Amazon S3 버킷에 저장함. 이미지 서비스에 파일에 대한 알림을 보내고 비행 정보를 제공함.  
> * 이미지 서비스는 비행 정보를 사용하여 모든 비행 시점의 3D 방향 및 위치를 계산한 후, 이미지 파일의 타임 스탬프에 연결함.  
> * 이 정보는 Amazon S3에 있는 이미지 자산에 대한 링크와 함께 Amazon EC2 기반의 RDBMS(관계형 데이터베이스 관리 시스템)에 저장됨.  

**3) AnyCompany 아키텍처: Show and Sell**  

> * AnyCompany 웹 사이트에 방문하는 고객은 물리적 제품의 이미지와 동영상을 볼 수 있음. 이러한 이미지의 형식은 다양함.  
> * 웹 사이트에는 Elastic Load Balancing 및 HTTPS와 콘텐츠 관리 시스템을 실행하는 EC2 인스턴스의 Auto Scaling 그룹이 사용됨.  
> * 정적 웹 사이트 자산은 S3 버킷에 저장됨.  

> * 고객은 지도에서 위치를 선택하고 도시 경관을 동영상으로 미리 볼 수 있음.  
> * 또한 지도의 물리적 크기, 색 구성표를 선택하고 지도에 LED 구멍을 배치하여 전광 지도를 제작할 수 있음.  
> * 매핑 서비스는 웹 사이트의 지도 위치 입력과 이미지 서비스를 상호 관련하여 해당 위치에서 이미지를 사용할 수 있는지 확인함.  

> * 평가판에 만족한 고객은 도시 사진을 주문할 수 있음.  
> * 고객은 신용 카드로 결제함. 신용 카드 주문은 PCI를 준수하는 인증된 타사 공급자에서 처리함. AnyCompany는 신용 카드 정보를 처리하거나 저장하지 않음.  
> > **PCI(Payment Card Industry)**: 신용 카드 데이터에 대한 통제를 강화하여 사기를 방지하도록 고안된 글로벌 정보 보안 표준  

> * 결제 확인이 수신된 후, 웹 사이트는 주문 서비스에 주문을 프로덕션으로 푸시할 것을 지시함.  
> * 고객의 세부 정보를 포함한 주문은 Amazon EC2 기반 RDBMS인 **Show and Sell 데이터베이스**에 기록됨.  

> * 동영상 미리 보기 또는 주문의 전체 인쇄를 시작하기 위해 **주문 서비스**는 **프로덕션 대기열**에 메시지를 배치함. 
> * 그러면 **렌더링 서비스**에서 미리 보기 동영상을 제공할 시기를 표시함.  
> * 또한 **주문 서비스**는 **주문 상태 대기열**을 읽고 **Show and Sell 데이터베이스**에 상태 변경을 기록함.  
> * 고객은 제조 중에 주문을 추적하고 발송된 날짜를 확인할 수 있음. 이 작업은 타사에서 브로커 디스패치 서비스를 통해 처리함.  




















